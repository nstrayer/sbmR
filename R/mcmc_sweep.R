#' Run a single MCMC sweep over nodes
#'
#' Runs a single Metropolis Hastings MCMC sweep across all nodes at specified
#' level (For algorithm details see
#' \href{https://arxiv.org/abs/1705.10225}{Piexoto, 2018}). Each node is given a
#' chance to move blocks or stay in current block and all nodes are processed in
#' random order. Takes the level that the sweep should take place on (int) and
#' if new blocks blocks can be proposed and empty blocks removed (boolean).
#'
#' @inheritParams add_node
#' @param num_sweeps Number of times all nodes are passed through for move proposals.
#' @param level Level of nodes who's blocks will have their block membership run
#'   through MCMC proposal-accept routine.
#' @param variable_num_blocks Should the model allow new blocks to be created or
#'   empty blocks removed while sweeping or should number of blocks remain
#'   constant?
#'
#' @return List with array of all nodes that were moved in the
#'   sweep (`nodes_moved`) and the sweeps impact on the model's entropy
#'   (`entropy_delta`).
#' @export
#'
#' @examples
#'
#' set.seed(42)
#'
#' # Start with a random network and assign randomly to 4 blocks
#' n_blocks <- 3
#' my_sbm <- create_sbm(sim_basic_block_network(n_blocks = n_blocks, n_nodes_per_block = 15)) %>%
#'   initialize_blocks(num_blocks = n_blocks)
#'
#' # Calculate entropy with random blocks
#' compute_entropy(my_sbm)
#'
#' # Run 4 MCMC sweeps
#' sweep_results <- my_sbm %>% mcmc_sweep(num_sweeps = 4, variable_num_blocks = FALSE)
#'
#' # Look at entropy moves per sweep
#' sweep_results$entropy_deltas
#'
mcmc_sweep <- function(sbm, num_sweeps = 1, level = 0, variable_num_blocks = TRUE){
  sbm$mcmc_sweep(as.integer(level), as.integer(num_sweeps), variable_num_blocks)
}
