#' Get node's edge counts to blocks
#'
#' For a given node in an SBM, returns a dataframe of each block (or node) that
#' the desired node is connected to and how many connections they have to that
#' block.
#'
#' @inheritParams add_node
#' @param node_id String identifying the node that edge counts are desired for
#' @param connection_level Level of blocks to get connections to. E.g. `1` = node block level, `0` = connections to other nodes.
#'
#' @return Dataframe with two columns: `id` for the id of the node/block connected to, and `count` for the number of connections between.
#' @export
#'
#' @examples
#'
#' # Initialize a random network and assign random blocks
#' sbm <- sim_basic_block_network(n_blocks = 5) %>%
#' create_sbm() %>%
#' initialize_blocks(5)
#'
#' # Gather edge counts for a node in the network
#' sbm %>% get_node_edge_counts_at_level("g1_1")
#'
get_node_edge_counts_at_level <- function(sbm,
                                          node_id,
                                          connection_level = 1L,
                                          node_level = 0L){

   # Call the exported method from the rcpp wrapper class.
  sbm$get_node_edge_counts_at_level(node_id,
                                    as.integer(node_level),
                                    as.integer(connection_level))
}
